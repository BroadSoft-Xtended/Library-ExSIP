## What you need to build ExSIP

You just need to have [Node.js](http://nodejs.org/) and [Git](http://git-scm.com/).


### Node.js

* [Install Node.js via package manager](https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager)
  e.g. on fedora
   yum install npm

* [Install Node.js from sources](http://nodejs.org)

### Git

* [Install Git](http://git-scm.com/book/en/Getting-Started-Installing-Git)


<<<<<<< HEAD:README
### PhantomJS

(optional, just for running unit tests)

* [Install PhantomJS](http://phantomjs.org/download.html)
* In modern Debian/Ubuntu systems PhantomJS can be installed via `apt-get install phantomjs`


## How to build ExSIP
=======
## How to build JsSIP

Clone a copy of the main JsSIP git repository by running:
```
$ git clone https://github.com/versatica/JsSIP.git
```
>>>>>>> jssip050:BUILDING.md

Install grunt-cli globally:
```
$ npm install -g grunt-cli
```

Enter the directory and install the Node.js dependencies:
```
$ cd ExSIP && npm install
```

Make sure you have `grunt` installed by testing:
```
$ grunt -version
```

<<<<<<< HEAD:README
Finally, run `grunt` command with no arguments to get a complete version of ExSIP:
=======
Finally, run `grunt dist` (or just `grunt`) to get an uncompressed version of JsSIP located at `builds/jssip-X.Y.Z.js` and a symlink `builds/jssip-last.js` pointing to it:
>>>>>>> jssip050:BUILDING.md
```
$ grunt dist
```

<<<<<<< HEAD:README
The built version of ExSIP will be available in the `dist/` subdirectory in both flavors: normal (uncompressed)  and minified, both linted with [JSLint](http://jslint.com/). There will be also a file named `dist/exsip-devel.js` which is an exact copy of the uncompressed file.


## Development version

Run `grunt devel` for just generating the `dist/exsip-devel.js` file. An uncompressed ExSIP source file named `exsip-devel.js` will be created in `dist` directory.
=======
In order to get a minified/production version of JsSIP run `grunt min` (note that you must have executed `grunt dist` before):
```
$ grunt min
```
>>>>>>> jssip050:BUILDING.md


## Test units

<<<<<<< HEAD:README
ExSIP includes test units based on [QUnit](http://qunitjs.com/). Test units use the `dist/exsip-devel.js` file. Run the tests as follows:
```
$ grunt test

Running "qunit-serverless:all" (qunit-serverless) task
...
654 tests complete (1.6 seconds)
```
=======
JsSIP includes test units based on [QUnit](http://qunitjs.com/). Test units use the `builds/jssip-last.js` file. Run the tests as follows:
```
$ grunt test
```


## Development

### Changes in JsSIP Grammar

If you modify `src/Grammar/src/Grammar.pegjs` then you need to recompile JsSIP Grammar file:
```
$ grunt grammar
```
And then build JsSIP again as explained above.

### Changes in JsSIP SDP

If you modify `src/SDP/main.js` then you need to recompile JsSIP SDP file:
```
$ grunt sdp
```
And then build JsSIP again as explained above.
>>>>>>> jssip050:BUILDING.md
